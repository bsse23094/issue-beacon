<div class="min-h-screen">
  <!-- Hero Header with Gradient -->
  <header class="relative overflow-hidden pb-8" style="background: linear-gradient(135deg, #0a0e1a 0%, #0f1420 50%, #0a0e1a 100%);">
    <!-- Animated background orbs - HIGHLY VISIBLE -->
    <div class="absolute top-10 left-10 w-96 h-96 rounded-full blur-3xl float" 
         style="background: radial-gradient(circle, rgba(6, 182, 212, 0.4) 0%, rgba(6, 182, 212, 0.2) 40%, rgba(6, 182, 212, 0.05) 70%, transparent 100%);"></div>
    <div class="absolute bottom-10 right-10 w-80 h-80 rounded-full blur-3xl float" 
         style="background: radial-gradient(circle, rgba(168, 85, 247, 0.35) 0%, rgba(168, 85, 247, 0.15) 50%, transparent 80%); animation-delay: 1.5s;"></div>
    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 rounded-full blur-3xl float" 
         style="background: radial-gradient(circle, rgba(34, 211, 238, 0.3) 0%, rgba(34, 211, 238, 0.1) 60%, transparent 90%); animation-delay: 3s;"></div>
    
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
      <div class="text-center">
        <!-- GitHub Logo -->
        <div class="flex justify-center mb-6">
          <svg class="w-24 h-24 text-white github-icon drop-shadow-2xl" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
        </div>
        
        <h1 class="text-5xl md:text-6xl font-extrabold text-white mb-4 drop-shadow-lg">
          GitHub Issue Explorer
        </h1>
        <p class="text-xl text-white/90 mb-8 max-w-2xl mx-auto drop-shadow">
          Browse, search, and explore GitHub issues with a beautiful interface. 
          Featuring offline support and real-time updates.
        </p>
        
        <!-- Quick Stats -->
        <div class="flex justify-center gap-8 flex-wrap mb-8">
          <div class="glass-card px-6 py-3 rounded-full">
            <span class="text-white font-semibold">Lightning Fast</span>
          </div>
          <div class="glass-card px-6 py-3 rounded-full">
            <span class="text-white font-semibold">Offline Ready</span>
          </div>
          <div class="glass-card px-6 py-3 rounded-full">
            <span class="text-white font-semibold">Beautiful UI</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Wave separator -->
    <div class="absolute bottom-0 left-0 right-0">
      <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 0L60 10C120 20 240 40 360 46.7C480 53 600 47 720 43.3C840 40 960 40 1080 46.7C1200 53 1320 67 1380 73.3L1440 80V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0V0Z" fill="#0a0e1a"/>
      </svg>
    </div>
  </header>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 -mt-8 relative z-10">
    <!-- Repository Input Card -->
    <div class="glass-card rounded-2xl p-8 mb-8 transform hover:scale-[1.01] transition-transform duration-300">
      <div class="flex items-center gap-3 mb-6">
        <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path>
          </svg>
        </div>
        <h2 class="text-2xl font-bold gradient-text">Select Repository</h2>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="relative">
          <label class="block text-sm font-semibold mb-2" style="color: var(--text-primary);">Repository Owner</label>
          <input
            type="text"
            [(ngModel)]="owner"
            (change)="onRepoChange()"
            class="input-premium w-full transition-all"
            placeholder="facebook"
          />
        </div>
        
        <div class="relative">
          <label class="block text-sm font-semibold mb-2" style="color: var(--text-primary);">Repository Name</label>
          <input
            type="text"
            [(ngModel)]="repo"
            (change)="onRepoChange()"
            class="input-premium w-full transition-all"
            placeholder="react"
          />
        </div>
      </div>
    </div>

    <!-- Filters Card -->
    <div class="glass-card rounded-2xl p-8 mb-8">
      <div class="flex items-center gap-3 mb-6">
        <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path>
          </svg>
        </div>
        <h2 class="text-2xl font-bold gradient-text">Filters & Sort</h2>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <div>
          <label class="block text-sm font-semibold mb-2" style="color: var(--text-primary);">State</label>
          <select
            [(ngModel)]="state"
            (change)="onFilterChange()"
            class="input-premium cursor-pointer"
          >
            <option value="open">Open</option>
            <option value="closed">Closed</option>
            <option value="all">All</option>
          </select>
        </div>
        
        <div>
          <label class="block text-sm font-semibold mb-2" style="color: var(--text-primary);">Sort By</label>
          <select
            [(ngModel)]="sort"
            (change)="onFilterChange()"
            class="input-premium cursor-pointer"
          >
            <option value="created">Created</option>
            <option value="updated">Updated</option>
            <option value="comments">Comments</option>
          </select>
        </div>
        
        <div>
          <label class="block text-sm font-semibold mb-2" style="color: var(--text-primary);">Direction</label>
          <select
            [(ngModel)]="direction"
            (change)="onFilterChange()"
            class="input-premium cursor-pointer"
          >
            <option value="desc">Newest First</option>
            <option value="asc">Oldest First</option>
          </select>
        </div>
        
        <div>
          <label class="block text-sm font-semibold mb-2" style="color: var(--text-primary);">Labels</label>
          <input
            type="text"
            [(ngModel)]="labels"
            (change)="onFilterChange()"
            class="input-premium w-full transition-all"
            placeholder="bug, enhancement"
          />
        </div>
      </div>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="flex flex-col items-center justify-center py-20">
      <div class="spinner mb-4"></div>
      <p class="text-gray-600 font-medium animate-pulse">Loading amazing issues...</p>
    </div>

    <!-- Error State -->
  <div *ngIf="error" class="glass-card glass-alert glass-alert--danger rounded-2xl p-8 mb-6">
      <div class="flex items-center gap-3">
        <svg class="w-6 h-6 text-red-500" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
        </svg>
        <p class="text-red-800 font-semibold">{{ error }}</p>
      </div>
    </div>

    <!-- Rate Limit Help Banner -->
  <div *ngIf="error && error.includes('rate limit')" class="glass-card glass-alert glass-alert--info rounded-2xl p-8 mb-6">
      <div class="flex items-start gap-4">
        <div class="w-12 h-12 bg-cyan-500 rounded-xl flex items-center justify-center flex-shrink-0">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
        </div>
        <div class="flex-1">
          <h3 class="text-lg font-bold text-gray-900 mb-3">üí° How to Fix Rate Limit Issue</h3>
          <div class="space-y-3 text-sm text-gray-700">
            <p class="font-semibold">GitHub API limits unauthenticated requests to 60 per hour. To increase this to 5,000 per hour:</p>
            <ol class="list-decimal list-inside space-y-2 ml-4">
              <li>Go to <a href="https://github.com/settings/tokens" target="_blank" class="text-cyan-600 hover:text-cyan-700 font-semibold underline">GitHub Settings ‚Üí Developer settings ‚Üí Personal access tokens</a></li>
              <li>Click "Generate new token (classic)"</li>
              <li>Give it a name (e.g., "IssueBeacon")</li>
              <li><strong>Don't select any scopes</strong> (public repo access only)</li>
              <li>Click "Generate token" and copy the token</li>
              <li>Open <code class="bg-gray-200 px-2 py-1 rounded">src/environments/environment.ts</code></li>
              <li>Add your token: <code class="bg-gray-200 px-2 py-1 rounded">githubToken: 'your_token_here'</code></li>
              <li>Save and reload the app</li>
            </ol>
            <p class="text-xs text-gray-600 mt-4">‚ö†Ô∏è Never commit your token to Git! Add environment.ts to .gitignore</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Issues List -->
    <div *ngIf="!loading && !error" class="space-y-6">
      <!-- Statistics Card -->
      <div *ngIf="issues.length > 0" class="glass-card rounded-2xl p-8 mb-8">
        <div class="flex items-center gap-3 mb-6">
          <div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
            </svg>
          </div>
          <h2 class="text-2xl font-bold gradient-text">Repository Statistics</h2>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          <!-- Total Issues -->
          <div class="stat-card group">
            <div class="flex items-center justify-between mb-3">
              <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                <svg class="w-6 h-6 text-blue-600 dark:text-blue-400" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                  <path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                </svg>
              </div>
            </div>
            <div class="text-3xl font-extrabold mb-1" style="color: rgb(var(--text-primary))">{{ issues.length }}</div>
            <div class="text-sm font-medium" style="color: rgb(var(--text-secondary))">Total Issues</div>
          </div>

          <!-- Open Issues -->
          <div class="stat-card group">
            <div class="flex items-center justify-between mb-3">
              <div class="w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                <svg class="w-6 h-6 text-green-600 dark:text-green-400" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                </svg>
              </div>
              <div class="text-right">
                <div class="text-2xl font-bold text-green-600 dark:text-green-400">{{ openPercentage }}%</div>
              </div>
            </div>
            <div class="text-3xl font-extrabold mb-1 text-green-600 dark:text-green-400">{{ openIssuesCount }}</div>
            <div class="text-sm font-medium" style="color: rgb(var(--text-secondary))">Open Issues</div>
            <!-- Progress bar -->
            <div class="mt-3 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
              <div class="h-full bg-gradient-to-r from-green-400 to-green-600 rounded-full transition-all duration-500" 
                   [style.width.%]="openPercentage"></div>
            </div>
          </div>

          <!-- Closed Issues -->
          <div class="stat-card group">
            <div class="flex items-center justify-between mb-3">
              <div class="w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                <svg class="w-6 h-6 text-purple-600 dark:text-purple-400" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
                </svg>
              </div>
              <div class="text-right">
                <div class="text-2xl font-bold text-purple-600 dark:text-purple-400">{{ 100 - openPercentage }}%</div>
              </div>
            </div>
            <div class="text-3xl font-extrabold mb-1 text-purple-600 dark:text-purple-400">{{ closedIssuesCount }}</div>
            <div class="text-sm font-medium" style="color: rgb(var(--text-secondary))">Closed Issues</div>
            <!-- Progress bar -->
            <div class="mt-3 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
              <div class="h-full bg-gradient-to-r from-purple-400 to-purple-600 rounded-full transition-all duration-500" 
                   [style.width.%]="100 - openPercentage"></div>
            </div>
          </div>

          <!-- Total Comments -->
          <div class="stat-card group">
            <div class="flex items-center justify-between mb-3">
              <div class="w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                <svg class="w-6 h-6 text-orange-600 dark:text-orange-400" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path>
                </svg>
              </div>
            </div>
            <div class="text-3xl font-extrabold mb-1 text-orange-600 dark:text-orange-400">{{ totalComments }}</div>
            <div class="text-sm font-medium" style="color: rgb(var(--text-secondary))">
              Total Comments
              <span class="text-xs ml-1">(avg: {{ averageComments }})</span>
            </div>
          </div>
        </div>
      </div>

      <div class="flex items-center justify-between mb-6">
        <h3 class="text-2xl font-bold" style="color: rgb(var(--text-primary))">
          <span class="gradient-text">{{ issues.length }}</span> Issues Found
        </h3>
      </div>

      <div *ngFor="let issue of issues" 
           class="issue-card group p-6 cursor-pointer hover:shadow-2xl hover:scale-[1.02] transition-all duration-300"
           [routerLink]="['/issue', owner, repo, issue.number]">
        <div class="flex items-start gap-4">
          <!-- Issue Icon -->
          <div [class]="'text-3xl flex-shrink-0 ' + (issue.state === 'open' ? 'text-green-500' : 'text-purple-500')">
            <div class="w-12 h-12 rounded-full flex items-center justify-center"
                 [class]="issue.state === 'open' ? 'bg-green-100 dark:bg-green-900/30' : 'bg-purple-100 dark:bg-purple-900/30'">
              <span *ngIf="issue.state === 'open'">‚óè</span>
              <span *ngIf="issue.state === 'closed'">‚úì</span>
            </div>
          </div>
          
          <!-- Issue Content -->
          <div class="flex-1 min-w-0">
            <div class="flex items-start justify-between gap-4 mb-3">
              <h3 class="text-xl font-bold hover:text-blue-600 dark:hover:text-blue-400 transition-colors" style="color: rgb(var(--text-primary))">
                {{ issue.title }}
              </h3>
              <span class="font-mono text-sm flex-shrink-0" style="color: rgb(var(--text-secondary))">#{{ issue.number }}</span>
            </div>
            
            <!-- Labels - Smooth & Premium -->
            <div *ngIf="issue.labels.length > 0" class="flex flex-wrap gap-1.5 mb-4">
              <span
                *ngFor="let label of issue.labels"
                class="label inline-flex items-center px-2.5 py-1 text-xs font-semibold rounded-full transition-all duration-200 hover:scale-105"
                [style.background]="'rgba(' + hexToRgb(label.color) + ', 0.15)'"
                [style.border]="'1px solid rgba(' + hexToRgb(label.color) + ', 0.35)'"
                [style.color]="'#' + label.color"
              >
                {{ label.name }}
              </span>
            </div>
            
            <!-- Meta Info -->
            <div class="flex flex-wrap items-center gap-6 text-sm" style="color: rgb(var(--text-secondary))">
              <div class="flex items-center gap-2">
                <img [src]="issue.user.avatar_url" [alt]="issue.user.login" class="w-6 h-6 rounded-full ring-2 ring-white dark:ring-gray-700 shadow-md">
                <span class="font-medium" style="color: rgb(var(--text-primary))">{{ issue.user.login }}</span>
              </div>
              <span class="flex items-center gap-1">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                </svg>
                {{ getRelativeTime(issue.created_at) }}
              </span>
              <span *ngIf="issue.comments > 0" class="flex items-center gap-1 font-medium text-blue-600">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path>
                </svg>
                {{ issue.comments }}
              </span>
            </div>
          </div>

          <!-- Arrow icon -->
          <div class="flex-shrink-0 text-gray-400 transform group-hover:translate-x-1 transition-transform">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
          </div>
        </div>
      </div>

      <!-- Empty State -->
      <div *ngIf="issues.length === 0" class="text-center py-20">
        <div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
        </div>
        <p class="text-gray-500 text-xl font-semibold mb-2">No issues found</p>
        <p class="text-gray-400">Try adjusting your filters or search a different repository</p>
      </div>
    </div>

    <!-- Pagination -->
    <div *ngIf="!loading && issues.length > 0" class="mt-12 flex justify-center items-center gap-4">
      <button
        (click)="prevPage()"
        [disabled]="!paginationLinks.prev || currentPage === 1"
        class="btn-secondary disabled:opacity-40 disabled:cursor-not-allowed disabled:transform-none"
      >
        <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
        Previous
      </button>
      
      <div class="glass-card px-6 py-3 rounded-xl">
        <span class="font-bold text-gray-900">Page {{ currentPage }}</span>
      </div>
      
      <button
        (click)="nextPage()"
        [disabled]="!paginationLinks.next"
        class="btn-secondary disabled:opacity-40 disabled:cursor-not-allowed disabled:transform-none"
      >
        Next
        <svg class="w-5 h-5 inline ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </button>
    </div>
  </div>
</div>
